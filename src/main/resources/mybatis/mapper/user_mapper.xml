<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="cn.mmko.dao.IUserDao">

    <resultMap id="DataMap" type="cn.mmko.entity.User">
        <id column="user_id" property="userId"/>
        <result column="username" property="userName"/>
        <result column="password_hash" property="passwordHash"/>
        <result column="password_salt" property="passwordSalt"/>
        <result column="email" property="email"/>
        <result column="phone" property="phone"/>
        <result column="avatar_url" property="avatarUrl"/>
        <result column="user_status" property="userStatus"/>
        <result column="register_time" property="registerTime"/>
        <result column="last_login_time" property="lastLoginTime"/>
        <result column="login_ip" property="loginIp"/>
    </resultMap>
    <insert id="insertUser" parameterType="cn.mmko.entity.User">
        insert into t_user(username,password_hash,password_salt)
        values(#{userName},#{passwordHash},#{passwordSalt})


    </insert>
    <select id="queryUserByUserName" resultType="cn.mmko.entity.User" resultMap="DataMap">
        select username,password_hash,password_salt,email,phone  from t_user where username=#{username}
    </select>


</mapper>